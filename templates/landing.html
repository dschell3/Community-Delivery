{% extends "base.html" %}

{% block title %}Aqu√≠ Estamos - Connecting Neighbors for Grocery Delivery{% endblock %}

{% block extra_css %}
<style>
    /* Remove header border on landing page */
    .navbar {
        border-bottom: none;
    }
    
    /* Base background - subtle gradient foundation */
    body {
        background: linear-gradient(to bottom right, #ffffff 0%, rgba(239, 246, 255, 0.2) 50%, rgba(254, 243, 230, 0.2) 100%);
    }
    
    /* Animated background container */
    .animated-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
        overflow: hidden;
    }
    
    /* Individual floating blobs */
    .blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(80px);
        opacity: 0;
        animation: float-blob 20s ease-in-out infinite;
    }
    
    @keyframes float-blob {
        0%, 100% {
            transform: translate(0, 0) scale(1);
            opacity: 0.7;
        }
        25% {
            transform: translate(30px, -40px) scale(1.1);
            opacity: 0.85;
        }
        50% {
            transform: translate(-20px, 20px) scale(0.95);
            opacity: 0.6;
        }
        75% {
            transform: translate(40px, 30px) scale(1.05);
            opacity: 0.75;
        }
    }
    
    /* Hero Section - Modern SaaS Style */
    .hero {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
        align-items: center;
        padding: 4rem 1rem;
        max-width: 1200px;
        margin: 0 auto;
    }
    
    .hero-content {
        text-align: left;
    }
    
    .hero-content h1 {
        font-size: 4.5rem;  /* Increased from 3.5rem */
        margin-bottom: 0.25rem;
        line-height: 1.1;
        font-weight: 700;
    }
    
    /* Gradient text effect for the title */
    .gradient-text {
        background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #f97316 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .hero-tagline {
        font-size: 2.25rem;  /* Increased from 1.75rem */
        color: var(--text-muted);
        margin-bottom: 1.25rem;
        font-style: italic;
    }
    
    .hero-subtitle {
        font-size: 1.5rem;  /* Increased from 1.35rem */
        color: var(--text-muted);
        margin-bottom: 2rem;
        line-height: 1.6;
        max-width: 500px;
    }
    
    .hero-actions {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
    }
    
    .hero-image {
        display: flex;
        justify-content: center;
        align-items: center;
    }
    
    .hero-image img {
        max-width: 100%;
        height: auto;
        max-height: 400px;
    }
    
    /* Trust Badges - Below Hero */
    .trust-section {
        text-align: center;
        padding: 2rem 1rem 3rem;
        max-width: 900px;
        margin: 0 auto;
    }
    
    .trust-badges {
        display: flex;
        justify-content: center;
        gap: 3rem;
        flex-wrap: wrap;
        margin-top: 1rem;
    }
    
    .trust-badge {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        color: var(--text-muted);
        font-size: 1.25rem;  /* Increased from 0.9375rem */
    }
    
    .trust-badge-icon {
        font-size: 1.75rem;  /* Increased from 1.25rem */
    }
    
    /* =============================================
       HOW IT WORKS - Card-based design
       ============================================= */
    .how-it-works {
        padding: 4rem 1rem;
        max-width: 1200px;
        margin: 0 auto;
        scroll-margin-top: 100px;  /* Offset for sticky header */
    }
    
    .how-it-works-header {
        text-align: center;
        margin-bottom: 3rem;
    }
    
    .how-it-works-header h2 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        color: var(--text);
    }
    
    .how-it-works-header p {
        font-size: 1.125rem;
        color: var(--text-muted);
    }
    
    /* Steps Grid */
    .steps-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
    }
    
    .step-card {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        align-items: center;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border-radius: var(--radius-lg);
        overflow: hidden;
        border: 1px solid var(--border);
        transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .step-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-lg);
    }
    
    /* Alternate card layouts */
    .step-card:nth-child(odd) {
        grid-column: 1 / -1;
    }
    
    .step-card:nth-child(even) {
        grid-column: 1 / -1;
        direction: rtl;
    }
    
    .step-card:nth-child(even) > * {
        direction: ltr;
    }
    
    .step-visual {
        position: relative;
        padding: 2rem;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 280px;
    }
    
    .step-visual img {
        max-width: 100%;
        max-height: 220px;
        object-fit: contain;
    }
    
    .step-icon {
        position: absolute;
        top: 1rem;
        left: 1rem;
        width: 48px;
        height: 48px;
        border-radius: var(--radius);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: white;
    }
    
    .step-icon.blue { background: #3b82f6; }
    .step-icon.green { background: #22c55e; }
    .step-icon.purple { background: #8b5cf6; }
    .step-icon.orange { background: #f97316; }
    
    .step-content {
        padding: 2rem;
    }
    
    .step-number {
        font-size: 3rem;
        font-weight: 700;
        line-height: 1;
        margin-bottom: 0.5rem;
        position: relative;
        display: inline-block;
    }
    
    /* Step number colors - match icons */
    .step-number.blue { color: #3b82f6; }
    .step-number.green { color: #22c55e; }
    .step-number.purple { color: #8b5cf6; }
    .step-number.orange { color: #f97316; }

    .step-number::after {
        content: '';
        position: absolute;
        bottom: 0.25rem;
        left: 100%;
        width: 40px;
        height: 3px;
        margin-left: 0.5rem;
    }
    
    /* Step number underline colors */
    .step-number.blue::after { background: linear-gradient(90deg, #3b82f6, transparent); }
    .step-number.green::after { background: linear-gradient(90deg, #22c55e, transparent); }
    .step-number.purple::after { background: linear-gradient(90deg, #8b5cf6, transparent); }
    .step-number.orange::after { background: linear-gradient(90deg, #f97316, transparent); }
    
    .step-content h3 {
        font-size: 1.5rem;
        margin-bottom: 0.75rem;
    }
    
    .step-content p {
        color: var(--text-muted);
        font-size: 1rem;
        line-height: 1.6;
        margin: 0;
    }
    
    /* Visual backgrounds for each step */
    .step-visual.bg-blue { background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); }
    .step-visual.bg-green { background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); }
    .step-visual.bg-purple { background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%); }
    .step-visual.bg-orange { background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%); }
    
    /* =============================================
       LOCAL RESOURCES Section
       ============================================= */
    .resources-section {
        padding: 4rem 1rem;
        max-width: 1000px;
        margin: 0 auto;
    }
    
    .resources-header {
        text-align: center;
        margin-bottom: 2rem;
    }
    
    .resources-header h2 {
        font-size: 2rem;
        margin-bottom: 0.5rem;
    }
    
    .resources-header p {
        color: var(--text-muted);
        font-size: 1.125rem;
    }
    
    .resources-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
    }
    
    .resource-card {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        padding: 1.5rem;
        transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .resource-card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
    }
    
    .resource-icon {
        font-size: 2rem;
        margin-bottom: 0.75rem;
    }
    
    .resource-card h3 {
        font-size: 1.125rem;
        margin-bottom: 0.5rem;
    }
    
    .resource-card p {
        color: var(--text-muted);
        font-size: 0.9375rem;
        margin-bottom: 1rem;
    }
    
    .resource-links {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .resource-links a {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--primary-color);
        font-size: 0.875rem;
    }
    
    .resource-links a:hover {
        text-decoration: underline;
    }
    
    /* =============================================
       CTA Section
       ============================================= */
    .cta-section {
        padding: 4rem 1rem;
        max-width: 1000px;
        margin: 0 auto;
    }
    
    .cta-section h2 {
        text-align: center;
        margin-bottom: 2rem;
    }
    
    .cta-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
    }
    
    .cta-card {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(10px);
        border-radius: var(--radius-lg);
        padding: 2rem;
        text-align: center;
        box-shadow: var(--shadow);
        border: 1px solid var(--border);
        transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .cta-card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
    }
    
    .cta-card h3 {
        margin-bottom: 0.75rem;
    }
    
    .cta-card p {
        color: var(--text-muted);
        margin-bottom: 1.5rem;
    }
    
    /* =============================================
       Responsive Design
       ============================================= */
    @media (max-width: 900px) {
        .steps-grid {
            grid-template-columns: 1fr;
        }
        
        .step-card,
        .step-card:nth-child(odd),
        .step-card:nth-child(even) {
            grid-column: 1;
            grid-template-columns: 1fr;
            direction: ltr;
        }
        
        .step-visual {
            min-height: 200px;
        }
    }
    
    @media (max-width: 768px) {
        .hero {
            grid-template-columns: 1fr;
            text-align: center;
            padding: 2rem 1rem;
        }
        
        .hero-content {
            text-align: center;
            order: 1;
        }
        
        .hero-image {
            order: 0;
            margin-bottom: 1rem;
        }
        
        .hero-content h1 {
            font-size: 3rem;
        }
        
        .hero-tagline {
            font-size: 1.5rem;
        }
        
        .hero-subtitle {
            font-size: 1.1rem;
            max-width: 100%;
        }
        
        .hero-actions {
            justify-content: center;
        }
        
        .trust-badge {
            font-size: 1rem;
        }
        
        .trust-badge-icon {
            font-size: 1.25rem;
        }
        
        .how-it-works-header h2 {
            font-size: 2rem;
        }
        
        .step-content {
            padding: 1.5rem;
        }
        
        .step-number {
            font-size: 2.5rem;
        }
        
        .step-content h3 {
            font-size: 1.25rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Animated background with floating blobs -->
<div class="animated-bg" id="animated-bg"></div>

<div class="landing">
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1><span class="gradient-text">Aqu√≠ Estamos</span></h1>
            <p class="hero-tagline">"We are here for you"</p>
            <p class="hero-subtitle">
                Connecting neighbors to help each other with grocery delivery. 
                Safe, private, and free.
            </p>
            <div class="hero-actions">
                <a href="{{ url_for('auth.register') }}" class="btn btn-primary">Get Started</a>
                <a href="#how-it-works" class="btn btn-secondary">Learn More</a>
            </div>
        </div>
        <div class="hero-image">
            <img src="{{ url_for('static', filename='images/showing-support.svg') }}" alt="Community members supporting each other">
        </div>
    </section>
    
    <!-- Trust Badges -->
    <section class="trust-section">
        <div class="trust-badges">
            <div class="trust-badge">
                <span class="trust-badge-icon">üîí</span>
                <span>Your address stays private</span>
            </div>
            <div class="trust-badge">
                <span class="trust-badge-icon">‚úì</span>
                <span>Vetted volunteers</span>
            </div>
            <div class="trust-badge">
                <span class="trust-badge-icon">ü§ù</span>
                <span>100% free service</span>
            </div>
        </div>
    </section>
    
    <!-- How It Works Section -->
    <section class="how-it-works" id="how-it-works">
        <div class="how-it-works-header">
            <h2>How It Works</h2>
            <p>Four simple steps to get groceries delivered safely to your door</p>
        </div>
        
        <div class="steps-grid">
            <!-- Step 1 -->
            <div class="step-card">
                <div class="step-visual bg-blue">
                    <div class="step-icon blue">üìù</div>
                    <!-- Download "sign-up" from undraw.co with color #3b82f6 -->
                    <img src="{{ url_for('static', filename='images/sign-up.svg') }}" alt="Person creating an account">
                </div>
                <div class="step-content">
                    <div class="step-number blue">01</div>
                    <h3>Register Securely</h3>
                    <p>Create your account in minutes. Your address is encrypted and only shared with your assigned volunteer during active deliveries.</p>
                </div>
            </div>
            
            <!-- Step 2 -->
            <div class="step-card">
                <div class="step-visual bg-green">
                    <div class="step-icon green">üõí</div>
                    <img src="{{ url_for('static', filename='images/shopping-app.svg') }}" alt="Placing a grocery order">
                </div>
                <div class="step-content">
                    <div class="step-number green">02</div>
                    <h3>Place Your Order</h3>
                    <p>Order groceries for pickup at your preferred store. No payment through our platform‚Äîyou handle payment directly with the store.</p>
                </div>
            </div>
            
            <!-- Step 3 -->
            <div class="step-card">
                <div class="step-visual bg-purple">
                    <div class="step-icon purple">üöó</div>
                    <!-- Download "on-the-way" from undraw.co with color #8b5cf6 -->
                    <img src="{{ url_for('static', filename='images/on-the-way.svg') }}" alt="Volunteer driving to pick up groceries">
                </div>
                <div class="step-content">
                    <div class="step-number purple">03</div>
                    <h3>Volunteer Picks Up</h3>
                    <p>A vetted volunteer in your area claims your request and picks up your groceries from the store.</p>
                </div>
            </div>
            
            <!-- Step 4 -->
            <div class="step-card">
                <div class="step-visual bg-orange">
                    <div class="step-icon orange">üì¶</div>
                    <img src="{{ url_for('static', filename='images/package-arrived.svg') }}" alt="Package delivered to your door">
                </div>
                <div class="step-content">
                    <div class="step-number orange">04</div>
                    <h3>Delivered to You</h3>
                    <p>Your groceries arrive at your door. Once delivered, your address is automatically hidden from the volunteer again.</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Local Resources Section -->
    <section class="resources-section" id="resources">
        <div class="resources-header">
            <h2>Community Resources</h2>
            <p>Additional support available in our community</p>
        </div>
        
        <div class="resources-grid">
            <!-- Food Assistance -->
            <div class="resource-card">
                <div class="resource-icon">üçé</div>
                <h3>Food Assistance</h3>
                <p>Local food banks and pantries providing free groceries to those in need.</p>
                <div class="resource-links">
                    <a href="https://www.sacramentofoodbank.org/" target="_blank" rel="noopener">
                        ‚Üí Sacramento Food Bank
                    </a>
                    <a href="https://www.feedingamerica.org/find-your-local-foodbank" target="_blank" rel="noopener">
                        ‚Üí Find a Food Bank Near You
                    </a>
                </div>
            </div>
            
            <!-- Community Organizations -->
            <div class="resource-card">
                <div class="resource-icon">ü§ù</div>
                <h3>Community Organizations</h3>
                <p>Local groups working to support immigrant communities and promote solidarity.</p>
                <div class="resource-links">
                    <a href="https://www.norcalresist.org/" target="_blank" rel="noopener">
                        ‚Üí NorCal Resist
                    </a>
                    <a href="https://sacact.org/" target="_blank" rel="noopener">
                        ‚Üí Sacramento ACT
                    </a>
                </div>
            </div>
            
            <!-- Know Your Rights -->
            <div class="resource-card">
                <div class="resource-icon">‚öñÔ∏è</div>
                <h3>Know Your Rights</h3>
                <p>Important information about your rights and how to protect yourself and your family.</p>
                <div class="resource-links">
                    <a href="https://www.ilrc.org/red-cards" target="_blank" rel="noopener">
                        ‚Üí ILRC Red Cards
                    </a>
                    <a href="https://www.aclu.org/know-your-rights/immigrants-rights" target="_blank" rel="noopener">
                        ‚Üí ACLU: Immigrant Rights
                    </a>
                </div>
            </div>
        </div>
    </section>
    
    <!-- CTA Section -->
    <section class="cta-section">
        <h2>Join Our Community</h2>
        <div class="cta-grid">
            <div class="cta-card">
                <h3>Need Groceries? <span style="font-weight: 400;">/ ¬øNecesita comida?</span></h3>
                <p>Sign up to receive free grocery delivery from vetted community volunteers.</p>
                <a href="{{ url_for('auth.register') }}?role=recipient" class="btn btn-primary">Request Help</a>
            </div>
            <div class="cta-card">
                <h3>Want to Help? <span style="font-weight: 400;">/ ¬øQuiere ayudar?</span></h3>
                <p>Become a volunteer and help deliver groceries to neighbors in your area.</p>
                <a href="{{ url_for('auth.register') }}?role=volunteer" class="btn btn-secondary">Become a Volunteer</a>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Create animated background blobs
    function createBlobs() {
        const bg = document.getElementById('animated-bg');
        if (!bg) return;
        
        const colors = [
            'rgba(59, 130, 246, 0.15)',   // Blue
            'rgba(249, 115, 22, 0.12)',    // Orange
            'rgba(139, 92, 246, 0.1)',     // Purple
            'rgba(34, 197, 94, 0.08)'      // Green
        ];
        
        for (let i = 0; i < 6; i++) {
            const blob = document.createElement('div');
            blob.className = 'blob';
            blob.style.width = `${Math.random() * 400 + 200}px`;
            blob.style.height = blob.style.width;
            blob.style.left = `${Math.random() * 100}%`;
            blob.style.top = `${Math.random() * 100}%`;
            blob.style.background = colors[i % colors.length];
            blob.style.animationDelay = `${Math.random() * -20}s`;
            blob.style.animationDuration = `${20 + Math.random() * 10}s`;
            bg.appendChild(blob);
        }
    }
    
    createBlobs();
    
    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        });
    });
</script>
{% endblock %}